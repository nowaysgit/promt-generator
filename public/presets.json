{
  "default": {
    "name": "Анализ проблем",
    "goal": "Заново проанализируй проект (все модули и файлы) для выявления:\n- Лишних/дублирующих файлов и архитектурных проблем  \n- Переусложненную структуру там где это не нужно (например фасады)\nДелай работу по кускам сначала проанализировав как можно больше. Если анализируешь модуль твоя задача пройдись по всем директориям и поддиректориям.",
    "processType": "analysis",
    "progressConfig": "{\n  \"current_step\": 0,\n  \"completed\": [\n    \"Анализ модуля X: выявлены Y проблем\",\n    \"Обзор структуры директории Z\"\n  ],\n  \"pending\": [\n    \"Анализ модуля A\",\n    \"Проверка компонентов B\",\n    \"Обзор сервисов C\"\n  ],\n  \"problems\": [\n    \"Дублирование: InterfaceX и InterfaceY выполняют одинаковые функции\",\n    \"Избыточность: ServiceA содержит неиспользуемые методы\"\n  ]\n}",
    "progressHelperConfig": "{\n  \"project_structure\": {\n    \"directories\": {\n      \"path\": \"/корневая_директория\",\n      \"type\": \"directory\",\n      \"children\": [\n        {\n          \"path\": \"/поддиректория\",\n          \"type\": \"directory\",\n          \"children\": [\n            {\n              \"path\": \"/файл.расширение\",\n              \"type\": \"file\",\n              \"description\": \"Краткое назначение/описание\",\n              \"exports\": [\"список\", \"экспортируемых\", \"сущностей\"]\n            }\n          ]\n        }\n      ]\n    }\n  },\n  \"key_services\": [\n    {\n      \"name\": \"НазваниеСервиса\",\n      \"path\": \"/полный/путь/к/файлу\",\n      \"description\": \"Краткое назначение\",\n      \"used_in\": [\"МодульА\", \"МодульБ\"]\n    }\n  ],\n  \"architectural_links\": [\n    {\n      \"source\": \"МодульА\",\n      \"target\": \"СервисБ\",\n      \"direction\": \"МодульА → СервисБ\",\n      \"description\": \"Тип взаимодействия\"\n    }\n  ],\n  \"file_registry\": {\n    \"potential_duplicates\": {\n      \"filename.ext\": [\"/путь/версия1\", \"/путь/версия2\"]\n    }\n  },\n  \"module_hierarchy\": {\n    \"МодульА\": {\n      \"path\": \"/путь/к/модулю\",\n      \"components\": [\"Компонент1\", \"Компонент2\"],\n      \"services\": [\"Сервис1\", \"Сервис2\"]\n    }\n  }\n}",
    "progressHelperRules": "Сохраняй ТОЛЬКО структурные данные (без проблем/аналитики)\nОбновляй при каждом шаге анализа\nВажно заполнять architectural_links и остальное из .progress.helper\nНе используй поля description для записи проблем, в этих полях должна быть полезная дополнительная информация",
    "finalizationConfig": "Финализация после анализа всех задач:\nОчисти completed в .progress\nСохрани финальный список problems",
    "customProcess": "",
    "rules": [
      {
        "id": "rule1",
        "text": "Никаких объяснений/тестов/миграций.",
        "type": "forbidden",
        "important": false,
        "checked": true
      },
      {
        "id": "rule2",
        "text": "Запрещено добавлять внешние интеграции.",
        "type": "forbidden",
        "important": false,
        "checked": true
      },
      {
        "id": "rule4",
        "text": "Избегай чрезмерной фрагментации, файлы могут быть большими.",
        "type": "forbidden",
        "important": true,
        "checked": true
      },
      {
        "id": "rule3",
        "text": "только анализируй и ищи проблемы, НЕ решай их",
        "type": "forbidden",
        "important": true,
        "checked": true
      },
      {
        "id": "rule5",
        "text": "Сохранить оригинальную JSON-структуру файлов .progress и .progress.helper",
        "type": "allowed",
        "important": false,
        "checked": true
      },
      {
        "id": "rule6",
        "text": "основная цель анализ как можно большего количества файлов",
        "type": "allowed",
        "important": true,
        "checked": true
      },
      {
        "id": "rule8",
        "text": "В фокусе: избыточные файлы, дубли сервисов, неиспользуемый код.",
        "type": "allowed",
        "important": false,
        "checked": true
      },
      {
        "id": "rule9",
        "text": "Используй .progress.helper как контекст для анализа связей и системы.",
        "type": "allowed",
        "important": false,
        "checked": true
      },
      {
        "id": "rule101",
        "text": "Соблюдай SOLID, не не впадай в крайности и не начинай использовать антипаттерны SOLID.",
        "type": "allowed",
        "important": true,
        "checked": true
      },
      {
        "id": "rule105",
        "text": "Цикл должен выполняться бесконечно пока есть задачи в `pending`",
        "type": "allowed",
        "important": false,
        "checked": true
      }
    ]
  },
  "preparation": {
    "name": "Подготовка решений",
    "goal": "Проанализировать файл `.progress`, отсортировать и сгруппировать проблемы из раздела `problems` в оптимальном порядке для решения. Результат разместить в `pending`, после чего очистить `problems`. Использовать данные из `.progress.helper` для возможного объединения/корректировки формулировок проблем, а так же для выявления других проблем.",
    "processType": "preparation",
    "progressConfig": "{\n  \"current_step\": 0,\n  \"completed\": [],\n  \"pending\": [\n    \"Приоритет 1: Удаление дублирующих файлов\",\n    \"Приоритет 2: Оптимизация сервисов\",\n    \"Приоритет 3: Очистка неиспользуемого кода\"\n  ],\n  \"problems\": []\n}",
    "progressHelperConfig": "{\n  \"project_structure\": {\n    \"directories\": {\n      \"path\": \"/корневая_директория\",\n      \"type\": \"directory\",\n      \"children\": []\n    }\n  },\n  \"key_services\": [],\n  \"architectural_links\": [],\n  \"file_registry\": {\n    \"potential_duplicates\": {}\n  },\n  \"module_hierarchy\": {}\n}",
    "progressHelperRules": "Используй существующие данные для группировки проблем\nНе добавляй новые структурные данные\nФокус на сортировке и оптимизации порядка решения",
    "finalizationConfig": "Результат:\nПеренести отсортированные проблемы в pending\nОчистить раздел problems",
    "customProcess": "",
    "rules": [
      {
        "id": "rule1",
        "text": "Запрещены: объяснения, тесты, документация, миграции.",
        "type": "forbidden",
        "important": false,
        "checked": true
      },
      {
        "id": "rule2",
        "text": "Запрещено добавлять внешние интеграции.",
        "type": "forbidden",
        "important": false,
        "checked": true
      },
      {
        "id": "rule3",
        "text": "Избегай чрезмерной фрагментации, файлы могут быть большими.",
        "type": "forbidden",
        "important": true,
        "checked": true
      },
      {
        "id": "rule101",
        "text": "Прекрати выполнение и сообщи об ошибке если файл `.progress` не существует",
        "type": "forbidden",
        "important": true,
        "checked": true
      },
      {
        "id": "rule4",
        "text": "Сохранить оригинальную JSON-структуру файлов .progress и .progress.helper",
        "type": "allowed",
        "important": false,
        "checked": true
      },
      {
        "id": "rule5",
        "text": "Фокус только на сортировке/группировке (не решать проблемы).",
        "type": "allowed",
        "important": true,
        "checked": true
      },
      {
        "id": "rule6",
        "text": "Используй .progress.helper как контекст для анализа связей и системы.",
        "type": "allowed",
        "important": false,
        "checked": true
      },
      {
        "id": "rule102",
        "text": "Соблюдай SOLID, не не впадай в крайности и не начинай использовать антипаттерны SOLID.",
        "type": "allowed",
        "important": true,
        "checked": true
      },
      {
        "id": "rule104",
        "text": "Цикл должен выполняться бесконечно пока есть задачи в `pending`",
        "type": "allowed",
        "important": false,
        "checked": true
      }
    ]
  },
  "fixing": {
    "name": "Исправление кода",
    "goal": "Последовательно исправлять проблемы проекта, используя файл прогресса `.progress` и шпаргалку `.progress.helper`.  Исправляй текущую проблему до тех пор, пока она не будет полностью исправлена. Важно расширять и актуализировать файл `.progress.helper`.",
    "processType": "fixing",
    "progressConfig": "{\n  \"current_step\": 1,\n  \"completed\": [\n    \"Исправлено: Удален дублирующий файл X\",\n    \"Исправлено: Оптимизирован сервис Y\"\n  ],\n  \"pending\": [\n    \"Следующая задача: Рефакторинг компонента Z\",\n    \"Ожидает: Очистка неиспользуемых методов\"\n  ],\n  \"problems\": []\n}",
    "progressHelperConfig": "{\n  \"project_structure\": {\n    \"directories\": {\n      \"path\": \"/корневая_директория\",\n      \"type\": \"directory\",\n      \"children\": []\n    }\n  },\n  \"key_services\": [],\n  \"architectural_links\": [],\n  \"file_registry\": {\n    \"potential_duplicates\": {},\n    \"removed_duplicates\": []\n  },\n  \"module_hierarchy\": {}\n}",
    "progressHelperRules": "Обновляй данные при каждом исправлении\nДобавляй информацию о внесенных изменениях\nВедите учет исправленных проблем в removed_duplicates",
    "finalizationConfig": "После исправления всех проблем:\nОбнови файл .progress.helper\nОтметь завершение в .progress",
    "customProcess": "",
    "rules": [
      {
        "id": "rule2",
        "text": "Запрещены любые побочные действия: объяснения, тесты, документация, миграции",
        "type": "forbidden",
        "important": true,
        "checked": true
      },
      {
        "id": "rule3",
        "text": "Запрещено добавлять интеграции с внешними сервисами",
        "type": "forbidden",
        "important": false,
        "checked": true
      },
      {
        "id": "rule4",
        "text": "Избегай чрезмерной фрагментации, файлы могут быть большими.",
        "type": "forbidden",
        "important": true,
        "checked": true
      },
      {
        "id": "rule1",
        "text": "Прекрати выполнение и сообщи об ошибке если файл `.progress` не существует",
        "type": "forbidden",
        "important": true,
        "checked": true
      },
      {
        "id": "rule6",
        "text": "Сохранить оригинальную JSON-структуру файлов `.progress` и `.progress.helper`",
        "type": "allowed",
        "important": false,
        "checked": true
      },
      {
        "id": "rule5",
        "text": "Все изменения должны фиксироваться через обновление `.progress`, файл `.progress.helper` нужно расширять и актуализировать ",
        "type": "allowed",
        "important": true,
        "checked": true
      },
      {
        "id": "rule7",
        "text": "Цикл должен выполняться бесконечно пока есть задачи в `pending`",
        "type": "allowed",
        "important": true,
        "checked": true
      },
      {
        "id": "rule8",
        "text": "Основной фокус: устранение избыточных элементов (файлы, сервисы, методы)",
        "type": "allowed",
        "important": true,
        "checked": true
      },
      {
        "id": "rule9",
        "text": "Используй `.progress.helper` как контекст для анализа связей и системы.",
        "type": "allowed",
        "important": false,
        "checked": true
      },
      {
        "id": "rule103",
        "text": "Соблюдай SOLID, не не впадай в крайности и не начинай использовать антипаттерны SOLID.",
        "type": "allowed",
        "important": false,
        "checked": true
      }
    ]
  },
  "test_analysis": {
    "name": "Тесты анализ",
    "goal": "Полностью проанализировать проект (все модули и файлы) для выявления функционала без тестового покрытия. Делай работу по кускам сначала проанализировав как можно больше. Если анализируешь модуль твоя задача пройдись по всем директориям и поддиректориям.",
    "processType": "analysis",
    "progressConfig": "{\n  \"current_step\": 0,\n  \"completed\": [\n    \"Анализ модуля UserService: найдены 3 метода без тестов\",\n    \"Обзор контроллеров API: выявлено 5 эндпоинтов\"\n  ],\n  \"pending\": [\n    \"Анализ бизнес-логики AuthModule\",\n    \"Проверка DatabaseService методов\",\n    \"Обзор валидационных функций\"\n  ],\n  \"problems\": [\n    \"Метод createUser() не покрыт тестами\",\n    \"Функция validatePassword() требует тестирования\"\n  ]\n}",
    "progressHelperConfig": "{\n  \"project_structure\": {\n    \"directories\": {\n      \"path\": \"/корневая_директория\",\n      \"type\": \"directory\",\n      \"children\": [\n        {\n          \"path\": \"/поддиректория\",\n          \"type\": \"directory\",\n          \"children\": [\n            {\n              \"path\": \"/файл.расширение\",\n              \"type\": \"file\",\n              \"description\": \"Краткое назначение/описание\",\n              \"exports\": [\"список\", \"экспортируемых\", \"сущностей\"]\n            }\n          ]\n        }\n      ]\n    }\n  },\n  \"key_services\": [\n    {\n      \"name\": \"НазваниеСервиса\",\n      \"path\": \"/полный/путь/к/файлу\",\n      \"description\": \"Краткое назначение\",\n      \"used_in\": [\"МодульА\", \"МодульБ\"]\n    }\n  ],\n  \"architectural_links\": [\n    {\n      \"source\": \"МодульА\",\n      \"target\": \"СервисБ\",\n      \"direction\": \"МодульА → СервисБ\",\n      \"description\": \"Тип взаимодействия\"\n    }\n  ],\n  \"file_registry\": {\n    \"potential_duplicates\": {\n      \"filename.ext\": [\"/путь/версия1\", \"/путь/версия2\"]\n    }\n  },\n  \"module_hierarchy\": {\n    \"МодульА\": {\n      \"path\": \"/путь/к/модулю\",\n      \"components\": [\"Компонент1\", \"Компонент2\"],\n      \"services\": [\"Сервис1\", \"Сервис2\"]\n    }\n  }\n}",
    "progressHelperRules": "Сохраняй ТОЛЬКО структурные данные (без проблем/аналитики)\nОбновляй при каждом шаге анализа\nВажно заполнять architectural_links и остальное из .progress.helper\nНе используй поля description для записи проблем, в этих полях должна быть полезная дополнительная информация",
    "finalizationConfig": "После анализа всех задач:\nОчисти completed в .progress\nСохрани финальный список problems с местами для тестов",
    "customProcess": "",
    "rules": [
      {
        "id": "rule1",
        "text": "Никаких объяснений/тестов/миграций.",
        "type": "forbidden",
        "important": false,
        "checked": true
      },
      {
        "id": "rule2",
        "text": "Запрещено добавлять внешние интеграции.",
        "type": "forbidden",
        "important": false,
        "checked": true
      },
      {
        "id": "rule3",
        "text": "только анализируй и ищи места для тестов, НЕ решай проблемы и не пиши тесты",
        "type": "forbidden",
        "important": true,
        "checked": true
      },
      {
        "id": "rule4",
        "text": "Сохранить оригинальную JSON-структуру файлов .progress и .progress.helper",
        "type": "allowed",
        "important": false,
        "checked": true
      },
      {
        "id": "rule5",
        "text": "основная цель анализ как можно большего количества файлов",
        "type": "allowed",
        "important": true,
        "checked": true
      },
      {
        "id": "rule6",
        "text": "Все изменения ТОЛЬКО через обновление .progress и .progress.helper",
        "type": "allowed",
        "important": false,
        "checked": true
      },
      {
        "id": "rule7",
        "text": "В фокусе: основная бизнес логика",
        "type": "allowed",
        "important": false,
        "checked": true
      },
      {
        "id": "rule8",
        "text": "Используй .progress.helper как контекст для анализа связей",
        "type": "allowed",
        "important": false,
        "checked": true
      }
    ]
  },
  "test_writing": {
    "name": "Тесты написание",
    "goal": "Последовательно покрыть интеграционными тестами весь проект, используя файл прогресса `.progress` и шпаргалку `.progress.helper`. Исправляй текущую проблему до тех пор, пока она не будет полностью исправлена. Важно расширять и актуализировать файл `.progress.helper`. Избегай чрезмерной фрагментации, файлы могут быть большими. Соблюдай SOLID, но не впадай в крайности. Если для работы теста нужно исправить логику приложения добавь необходимые задачи в `pending`. Основная цель сделать приложение рабочим.\n\nТребования к тестам:\n- Используй абстракцию над Jest из <корень проекта>/lib/tester:\n- Расширяй её только при необходимости\n- Сохраняй лаконичность тестовых файлов\n- Каждый тест оформляй как вызов функции с параметрами (включая коллбеки)\n- Реализуй строгий и понятный интерфейс тестирования\n- Перед каждым тестом:\n  Полностью очищай тестовую БД\n  Заполняй фикстурами через коллбек в параметрах теста\n\nНапиши docker-compose для тестового окружения (БД и др.)\nРеализуй режим теста в приложении:\nАвтоматическое подключение к тестовой БД\nИспользование тестового env",
    "processType": "fixing",
    "progressConfig": "{\n  \"current_step\": 1,\n  \"completed\": [\n    \"Написан тест для UserService.createUser()\",\n    \"Настроено тестовое окружение Docker\"\n  ],\n  \"pending\": [\n    \"Тест для AuthService.login()\",\n    \"Покрытие API эндпоинтов\",\n    \"Тесты валидации форм\"\n  ],\n  \"problems\": []\n}",
    "progressHelperConfig": "{\n  \"project_structure\": {\n    \"directories\": {\n      \"path\": \"/корневая_директория\",\n      \"type\": \"directory\",\n      \"children\": [\n        {\n          \"path\": \"/поддиректория\",\n          \"type\": \"directory\",\n          \"children\": [\n            {\n              \"path\": \"/файл.расширение\",\n              \"type\": \"file\",\n              \"description\": \"Краткое назначение/описание\",\n              \"exports\": [\"список\", \"экспортируемых\", \"сущностей\"]\n            }\n          ]\n        }\n      ]\n    }\n  },\n  \"key_services\": [\n    {\n      \"name\": \"НазваниеСервиса\",\n      \"path\": \"/полный/путь/к/файлу\",\n      \"description\": \"Краткое назначение\",\n      \"used_in\": [\"МодульА\", \"МодульБ\"]\n    }\n  ],\n  \"architectural_links\": [\n    {\n      \"source\": \"МодульА\",\n      \"target\": \"СервисБ\",\n      \"direction\": \"МодульА → СервисБ\",\n      \"description\": \"Тип взаимодействия\"\n    }\n  ],\n  \"file_registry\": {\n    \"potential_duplicates\": {\n      \"filename.ext\": [\"/путь/версия1\", \"/путь/версия2\"]\n    }\n  },\n  \"module_hierarchy\": {\n    \"МодульА\": {\n      \"path\": \"/путь/к/модулю\",\n      \"components\": [\"Компонент1\", \"Компонент2\"],\n      \"services\": [\"Сервис1\", \"Сервис2\"]\n    }\n  }\n}",
    "progressHelperRules": "Сохраняй ТОЛЬКО структурные данные (без проблем/аналитики)\nОбновляй при каждом шаге анализа\nВажно заполнять architectural_links и остальное из .progress.helper\nНе используй поля description для записи проблем, в этих полях должна быть полезная дополнительная информация",
    "finalizationConfig": "",
    "customProcess": "Требования к тестам:\n- Используй абстракцию над Jest из <корень проекта>/lib/tester\n- Расширяй её только при необходимости\n- Сохраняй лаконичность тестовых файлов\n- Каждый тест оформляй как вызов функции с параметрами (включая коллбеки)\n- Реализуй строгий и понятный интерфейс тестирования\n\nПеред каждым тестом:\n- Полностью очищай тестовую БД\n- Заполняй фикстурами через коллбек в параметрах теста\n- Напиши docker-compose для тестового окружения (БД и др.)\n- Реализуй режим теста в приложении: автоматическое подключение к тестовой БД, использование тестового env",
    "rules": [
      {
        "id": "rule1",
        "text": "Никаких объяснений/миграций.",
        "type": "forbidden",
        "important": false,
        "checked": true
      },
      {
        "id": "rule2",
        "text": "Запрещено добавлять внешние интеграции.",
        "type": "forbidden",
        "important": false,
        "checked": true
      },
      {
        "id": "rule3",
        "text": "Сохранить оригинальную JSON-структуру файлов .progress и .progress.helper",
        "type": "allowed",
        "important": false,
        "checked": true
      },
      {
        "id": "rule4",
        "text": "Тесты должны использовать только нашу абстракцию",
        "type": "allowed",
        "important": true,
        "checked": true
      },
      {
        "id": "rule5",
        "text": "В фокусе: основная бизнес логика",
        "type": "allowed",
        "important": false,
        "checked": true
      },
      {
        "id": "rule6",
        "text": "Используй .progress.helper как контекст для анализа связей",
        "type": "allowed",
        "important": false,
        "checked": true
      }
    ]
  },
  "custom": {
    "name": "Пользовательский",
    "goal": "",
    "processType": "analysis",
    "progressConfig": "{\n  \"current_step\": 0,\n  \"completed\": [],\n  \"pending\": [],\n  \"problems\": []\n}",
    "progressHelperConfig": "{\n  \"project_structure\": {\n    \"directories\": {\n      \"path\": \"/корневая_директория\",\n      \"type\": \"directory\",\n      \"children\": []\n    }\n  },\n  \"key_services\": [],\n  \"architectural_links\": [],\n  \"file_registry\": {\n    \"potential_duplicates\": {}\n  },\n  \"module_hierarchy\": {}\n}",
    "progressHelperRules": "",
    "finalizationConfig": "",
    "customProcess": "",
    "rules": []
  }
}